{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayne\\\\OneDrive\\\\Documents\\\\2019 Fall\\\\CS 639\\\\coding\\\\cs639-react-2-ShiyuXu99\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport SidebarArea from './Recommender/SidebarArea';\nimport CourseArea from './CourseComponents/CourseArea';\nimport TakenCourseArea from './Recommender/TakenCourseArea';\nimport Cart from './Cart';\nimport { Tab } from 'react-bootstrap';\nimport { Tabs } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cartCourse: [],\n      takenCourse: [],\n      keywords: [],\n      Like: [],\n      Dislike: [],\n      generateClass: []\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch('https://mysqlcs639.cs.wisc.edu/classes'), fetch('https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed')]).then(([res1, res2]) => {\n      return Promise.all([res1.json(), res2.json()]);\n    }).then(([data, takenData]) => {\n      this.setState({\n        allCourses: data,\n        filteredCourses: data,\n        subjects: this.getSubjects(data),\n        keywords: this.getKeywords(data),\n        takenCourse: this.takenCourses(takenData, data)\n      });\n    });\n  } //get all the taken course's information\n\n\n  takenCourses(takenData, data) {\n    let insert = [];\n\n    for (const course of Object.entries(data)) {\n      for (const takenCourse of Object.entries(takenData)) {\n        var allTakenCourses = takenCourse[1];\n\n        for (const taken of allTakenCourses) {\n          if (course[0] === taken) insert.push(course);\n        }\n      }\n    }\n\n    return insert;\n  } //get all the subjects of classes\n\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  } //get all the keywords of classes\n\n\n  getKeywords(data) {\n    let keyword = [];\n\n    for (const course of Object.values(data)) {\n      for (const key of course.keywords) {\n        if (keyword.indexOf(key) === -1 && key !== course.subject.toLowerCase()) keyword.push(key);\n      }\n    }\n\n    return keyword;\n  }\n\n  setCart(courses) {\n    let newCartCourse = this.state.cartCourse;\n    newCartCourse.push(courses);\n    this.setState({\n      cartCourse: newCartCourse\n    });\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  setCheckBoxLike(name, on) {\n    let checkBoxTemp = this.state.Like;\n\n    if (on) {\n      if (checkBoxTemp.length === 0) {\n        checkBoxTemp.push(name);\n      } else {\n        for (const subject of checkBoxTemp) {\n          if (subject !== name) {\n            checkBoxTemp.push(name);\n            break;\n          }\n        }\n      }\n    } else {\n      for (var i = 0; i < checkBoxTemp.length; i++) {\n        if (checkBoxTemp[i] === name) checkBoxTemp.splice(i, 1);\n      }\n    }\n\n    this.setState({\n      Like: checkBoxTemp\n    });\n    this.generateClass(this.state.allCourses);\n  } //Get classes that are disliked\n\n\n  setCheckBoxDislike(name, on) {\n    let checkBoxTemp = this.state.Dislike;\n\n    if (on) {\n      if (checkBoxTemp.length === 0) {\n        checkBoxTemp.push(name);\n      } else {\n        for (const subject of checkBoxTemp) {\n          if (subject !== name) {\n            checkBoxTemp.push(name);\n            break;\n          }\n        }\n      }\n    } else {\n      for (var i = 0; i < checkBoxTemp.length; i++) {\n        if (checkBoxTemp[i] === name) checkBoxTemp.splice(i, 1);\n      }\n    }\n\n    this.setState({\n      Dislike: checkBoxTemp\n    });\n    this.generateClass(this.state.allCourses);\n  }\n\n  generateClass(allCourses) {\n    var rankCourse = [];\n    var points = 5;\n    let Like = this.state.Like;\n    let Dislike = this.state.Dislike;\n\n    for (const course of Object.values(allCourses)) {\n      rankCourse.push({\n        p: points,\n        courseInfo: course\n      });\n    }\n\n    for (let i = 0; i < rankCourse.length; i++) {\n      for (const likeCourse of Like) {\n        if (rankCourse[i].courseInfo.subject === likeCourse) {\n          let newp = rankCourse[i].p + 3;\n          rankCourse.splice(i, 1, {\n            p: newp,\n            courseInfo: rankCourse[i].courseInfo\n          });\n        }\n\n        for (const key of rankCourse[i].courseInfo.keywords) {\n          if (key === likeCourse) {\n            let newp = rankCourse[i].p + 2;\n            rankCourse.splice(i, 1, {\n              p: newp,\n              courseInfo: rankCourse[i].courseInfo\n            });\n          }\n        }\n      }\n    }\n\n    for (let i = 0; i < rankCourse.length; i++) {\n      for (const dislike of Dislike) {\n        if (rankCourse[i].courseInfo.subject === dislike) {\n          let newp = rankCourse[i].p - 5;\n          rankCourse.splice(i, 1, {\n            p: newp,\n            courseInfo: rankCourse[i].courseInfo\n          });\n        }\n      }\n    }\n\n    console.log(rankCourse);\n    this.setState({\n      generateClass: rankCourse\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(Tabs, {\n      defaultActiveKey: \"home\",\n      id: \"uncontrolled-tab-example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"home\",\n      title: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      data: this.state.filteredCourses,\n      setCart: courses => this.setCart(courses),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }))), React.createElement(Tab, {\n      eventKey: \"Cart\",\n      title: \"Cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Cart, {\n      data: this.state.cartCourse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"RecommendedCourse\",\n      title: \"Recommended Course\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(SidebarArea, {\n      courses: this.state.allCourses,\n      keywords: this.state.keywords,\n      generateClass: this.state.generateClass,\n      setCheckBoxLike: (name, on) => this.setCheckBoxLike(name, on),\n      setCart: courses => this.setCart(courses),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(TakenCourseArea, {\n      takenCourse: this.state.takenCourse,\n      courses: this.state.allCourses,\n      setCheckBoxLike: (name, on) => this.setCheckBoxLike(name, on),\n      setCheckBoxDislike: (name, on) => this.setCheckBoxDislike(name, on),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\rayne\\OneDrive\\Documents\\2019 Fall\\CS 639\\coding\\cs639-react-2-ShiyuXu99\\src\\App.js"],"names":["React","Sidebar","SidebarArea","CourseArea","TakenCourseArea","Cart","Tab","Tabs","App","Component","constructor","props","state","allCourses","filteredCourses","subjects","cartCourse","takenCourse","keywords","Like","Dislike","generateClass","componentDidMount","Promise","all","fetch","then","res1","res2","json","data","takenData","setState","getSubjects","getKeywords","takenCourses","insert","course","Object","entries","allTakenCourses","taken","push","values","indexOf","subject","keyword","key","toLowerCase","setCart","courses","newCartCourse","setCourses","setCheckBoxLike","name","on","checkBoxTemp","length","i","splice","setCheckBoxDislike","rankCourse","points","p","courseInfo","likeCourse","newp","dislike","console","log","render","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from './Sidebar';\r\nimport SidebarArea from './Recommender/SidebarArea'\r\nimport CourseArea from './CourseComponents/CourseArea';\r\nimport TakenCourseArea from './Recommender/TakenCourseArea';\r\nimport Cart from './Cart';\r\nimport { Tab } from 'react-bootstrap';\r\nimport { Tabs } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allCourses: {},\r\n      filteredCourses: {},\r\n      subjects: [],\r\n      cartCourse: [],\r\n      takenCourse: [],\r\n      keywords: [],\r\n      Like: [],\r\n      Dislike: [],\r\n      generateClass: []\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    Promise.all([fetch('https://mysqlcs639.cs.wisc.edu/classes'),\r\n    fetch('https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed')])\r\n\r\n      .then(([res1, res2]) => {\r\n        return Promise.all([res1.json(), res2.json()])\r\n      })\r\n      .then(([data, takenData]) => {\r\n        this.setState({\r\n          allCourses: data,\r\n          filteredCourses: data,\r\n          subjects: this.getSubjects(data),\r\n          keywords: this.getKeywords(data),\r\n          takenCourse: this.takenCourses(takenData, data),\r\n        })\r\n      });\r\n  }\r\n\r\n\r\n  //get all the taken course's information\r\n  takenCourses(takenData, data) {\r\n    let insert = [];\r\n    for (const course of Object.entries(data)) {\r\n      for (const takenCourse of Object.entries(takenData)) {\r\n        var allTakenCourses = takenCourse[1];\r\n        for (const taken of allTakenCourses) {\r\n          if (course[0] === taken)\r\n            insert.push(course);\r\n        }\r\n      }\r\n    }\r\n    return insert;\r\n  }\r\n\r\n  //get all the subjects of classes\r\n  getSubjects(data) {\r\n    let subjects = [];\r\n    subjects.push(\"All\");\r\n    for (const course of Object.values(data)) {\r\n      if (subjects.indexOf(course.subject) === -1)\r\n        subjects.push(course.subject);\r\n    }\r\n    return subjects;\r\n  }\r\n\r\n  //get all the keywords of classes\r\n  getKeywords(data) {\r\n    let keyword = [];\r\n    for (const course of Object.values(data)) {\r\n      for (const key of course.keywords) {\r\n        if (keyword.indexOf(key) === -1 && key !== course.subject.toLowerCase())\r\n          keyword.push(key);\r\n      }\r\n    }\r\n    return keyword;\r\n  }\r\n\r\n\r\n  setCart(courses) {\r\n    let newCartCourse = this.state.cartCourse;\r\n    newCartCourse.push(courses);\r\n    this.setState({ cartCourse: newCartCourse });\r\n  }\r\n\r\n\r\n  setCourses(courses) {\r\n    this.setState({ filteredCourses: courses })\r\n  }\r\n\r\n\r\n\r\n  setCheckBoxLike(name, on) {\r\n    let checkBoxTemp = this.state.Like;\r\n    if (on) {\r\n      if (checkBoxTemp.length === 0) {\r\n        checkBoxTemp.push(name);\r\n      }\r\n      else {\r\n        for (const subject of checkBoxTemp) {\r\n          if (subject !== name) {\r\n            checkBoxTemp.push(name);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      for (var i = 0; i < checkBoxTemp.length; i++) {\r\n        if (checkBoxTemp[i] === name)\r\n          checkBoxTemp.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    this.setState({ Like: checkBoxTemp });\r\n    this.generateClass(this.state.allCourses);\r\n  }\r\n\r\n  //Get classes that are disliked\r\n  setCheckBoxDislike(name, on) {\r\n    let checkBoxTemp = this.state.Dislike;\r\n    if (on) {\r\n      if (checkBoxTemp.length === 0) {\r\n        checkBoxTemp.push(name);\r\n      }\r\n      else {\r\n        for (const subject of checkBoxTemp) {\r\n          if (subject !== name) {\r\n            checkBoxTemp.push(name);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      for (var i = 0; i < checkBoxTemp.length; i++) {\r\n        if (checkBoxTemp[i] === name)\r\n          checkBoxTemp.splice(i, 1);\r\n      }\r\n    }\r\n    this.setState({ Dislike: checkBoxTemp });\r\n    this.generateClass(this.state.allCourses);\r\n  }\r\n\r\n\r\n  generateClass(allCourses) {\r\n    var rankCourse = [];\r\n    var points = 5;\r\n    let Like = this.state.Like;\r\n    let Dislike = this.state.Dislike;\r\n\r\n\r\n    for (const course of Object.values(allCourses)) {\r\n      rankCourse.push({ p: points, courseInfo: course });\r\n    }\r\n\r\n    for (let i=0;i<rankCourse.length;i++) {\r\n      for (const likeCourse of Like) {\r\n          if (rankCourse[i].courseInfo.subject === likeCourse) {\r\n            let newp = rankCourse[i].p + 3;\r\n            rankCourse.splice(i,1,{p:newp,courseInfo:rankCourse[i].courseInfo})\r\n        }\r\n        for (const key of rankCourse[i].courseInfo.keywords) {\r\n          if (key === likeCourse) {\r\n            let newp = rankCourse[i].p + 2;\r\n            rankCourse.splice(i,1,{p:newp,courseInfo:rankCourse[i].courseInfo})\r\n        }\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let i=0;i<rankCourse.length;i++) {\r\n\r\n      for (const dislike of Dislike) {\r\n        if (rankCourse[i].courseInfo.subject === dislike) {\r\n          let newp = rankCourse[i].p - 5;\r\n          rankCourse.splice(i,1,{p:newp,courseInfo:rankCourse[i].courseInfo})\r\n      }\r\n    }\r\n  }\r\n    console.log(rankCourse);\r\n    this.setState({generateClass:rankCourse});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n\r\n        <Tabs defaultActiveKey=\"home\" id=\"uncontrolled-tab-example\">\r\n          <Tab eventKey=\"home\" title=\"Home\">\r\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} subjects={this.state.subjects} />\r\n            <div style={{ marginLeft: '20vw' }}>\r\n              <CourseArea data={this.state.filteredCourses} setCart={(courses) => this.setCart(courses)} />\r\n            </div>\r\n          </Tab>\r\n\r\n          <Tab eventKey=\"Cart\" title=\"Cart\">\r\n            <Cart data={this.state.cartCourse} />\r\n          </Tab>\r\n\r\n          <Tab eventKey=\"RecommendedCourse\" title=\"Recommended Course\">\r\n            <SidebarArea\r\n              courses={this.state.allCourses}\r\n              keywords={this.state.keywords}\r\n              generateClass = {this.state.generateClass}\r\n              setCheckBoxLike={(name, on) => this.setCheckBoxLike(name, on)}\r\n              setCart={(courses) => this.setCart(courses)}\r\n            />\r\n\r\n            <div>\r\n\r\n\r\n              <TakenCourseArea\r\n                takenCourse={this.state.takenCourse}\r\n                courses={this.state.allCourses}\r\n                setCheckBoxLike={(name, on) => this.setCheckBoxLike(name, on)}\r\n                setCheckBoxDislike={(name, on) => this.setCheckBoxDislike(name, on)} />\r\n            </div>\r\n          </Tab>\r\n\r\n\r\n        </Tabs>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}